
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="个人学习笔记和心得">
      
      
        <meta name="author" content="Yutouegg">
      
      
      
        <link rel="prev" href="../Day2/">
      
      
        <link rel="next" href="../Day4/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.30">
    
    
      
        <title>Day3 - 我的学习笔记</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3cba04c6.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#day3" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="我的学习笔记" class="md-header__button md-logo" aria-label="我的学习笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            我的学习笔记
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Day3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch01_%E6%8F%90%E7%A4%BA%E8%AF%8D/" class="md-tabs__link">
          
  
  Langchain

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Lora%E5%BE%AE%E8%B0%83/Lora%E5%BE%AE%E8%B0%83/" class="md-tabs__link">
          
  
  Lora微调

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E6%95%B0%E6%8D%AE%E9%97%AE%E7%AD%94/%E5%B1%95%E7%A4%BA%E7%B3%BB%E7%BB%9F/" class="md-tabs__link">
          
  
  数据问答

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E4%BB%8E0%E6%9E%84%E5%BB%BAGPT/%E4%BB%8E0%E6%9E%84%E5%BB%BAGPT/" class="md-tabs__link">
          
  
  从0构建GPT

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E6%8A%A5%E9%94%99/%E6%8A%A5%E9%94%99/" class="md-tabs__link">
          
  
  报错

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../Day1/" class="md-tabs__link">
          
  
  小米C++训练营

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../%E8%A7%86%E9%A2%91%E6%8A%96%E5%8A%A8%E6%A3%80%E6%B5%8B/%E6%8A%96%E5%8A%A8%E6%A3%80%E6%B5%8B/" class="md-tabs__link">
          
  
  视频抖动检测

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="我的学习笔记" class="md-nav__button md-logo" aria-label="我的学习笔记" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    我的学习笔记
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    首页
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Langchain
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Langchain
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch01_%E6%8F%90%E7%A4%BA%E8%AF%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch01提示词
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch02_memery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch02记忆
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch03_langchain%E4%BD%BF%E7%94%A8huggingface/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch03Huggingface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch04_langchain_with_pdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch04langchain_pdf
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch05_%E6%96%87%E6%9C%AC%E6%80%BB%E7%BB%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch05文本总结
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../langchain%E5%AD%A6%E4%B9%A0/ch06_LLM%E8%AF%84%E4%BC%B0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ch06LLM评估
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Lora微调
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Lora微调
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Lora%E5%BE%AE%E8%B0%83/Lora%E5%BE%AE%E8%B0%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lora微调
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据问答
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            数据问答
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E9%97%AE%E7%AD%94/%E5%B1%95%E7%A4%BA%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据问答
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    从0构建GPT
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            从0构建GPT
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E4%BB%8E0%E6%9E%84%E5%BB%BAGPT/%E4%BB%8E0%E6%9E%84%E5%BB%BAGPT/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    从0构建GPT
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    报错
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            报错
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%8A%A5%E9%94%99/%E6%8A%A5%E9%94%99/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    报错和解决
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    小米C++训练营
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            小米C++训练营
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Day1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Day2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Day3
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Day3
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#day3" class="md-nav__link">
    <span class="md-ellipsis">
      Day3
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Day3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1c" class="md-nav__link">
    <span class="md-ellipsis">
      1.C++父子进程通信程序
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.C++父子进程通信程序">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1.知识点：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2.程序：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3.结果：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2c" class="md-nav__link">
    <span class="md-ellipsis">
      2.C++多线程求和程序
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.C++多线程求和程序">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 知识点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 程序
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 结果：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      死锁问题程序：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="死锁问题程序：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1.按顺序轮流进餐
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.按顺序轮流进餐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1实现思路：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2结果：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2.最短时间内完成所有哲学家的进餐
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.最短时间内完成所有哲学家的进餐">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1方案：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      课后作业：多进程生成，多线程计算：
    </span>
  </a>
  
    <nav class="md-nav" aria-label="课后作业：多进程生成，多线程计算：">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1.算法设计：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2.代码：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3.运行结果：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Day4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day4
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Day5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day5
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Day6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Day6
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    视频抖动检测
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            视频抖动检测
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../%E8%A7%86%E9%A2%91%E6%8A%96%E5%8A%A8%E6%A3%80%E6%B5%8B/%E6%8A%96%E5%8A%A8%E6%A3%80%E6%B5%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    视频抖动检测
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Day3</h1>

<h2 id="day3">Day3</h2>
<h3 id="1c">1.C++父子进程通信程序</h3>
<h4 id="1">1.知识点：</h4>
<ul>
<li>
<p>int pipefd[2]：用与建立管道连接，pipefd[0]为读取，pipefd[1]为写入。  </p>
</li>
<li>
<p>execlp()函数：将child中的程序取代当前子进程中的所有代码。就不需要在子进程中进行读取等操作了。</p>
</li>
<li>
<p>虽然会套模板写fork(),但是有一点不理解，既然fork开始就返回了一个值。后面两个if语句判断是否为父子节点，但是从运行结果来看好像两个条件语句都执行了。他是怎么满足fork返回值等于0又不等于0的。：<br />
通过查资料问ai得到一个答案：fork函数调用一次返回两个值。<br />
返回两个值并不是一次性返回两个值，而是在父进程和自进程分别调用fork()。<br />
当父进程调用 fork() 时，操作系统会创建一个新的子进程。<br />
系统并不"进入"子进程，而是同时运行父进程和子进程。
子进程从 fork() 返回的位置开始执行，就好像它自己调用了 fork() 一样。  </p>
</li>
</ul>
<h4 id="2">2.程序：</h4>
<p>1.主程序：</p>
<pre><code>int main() {
    int pipefd[2];//pipefd[0]读取,pipefd[1] write
    if (pipe(pipefd) == -1) {
        std::cerr &lt;&lt; &quot;Failed to create pipe&quot; &lt;&lt; std::endl;
        return 1;
    }

    pid_t pid = fork();

    if (pid == -1) {
        std::cerr &lt;&lt; &quot;Failed to fork&quot; &lt;&lt; std::endl;
        return 1;
    } else if (pid == 0) {
        // // 子进程
        execlp(&quot;./child&quot;, &quot;child&quot;, nullptr);
        std::cerr &lt;&lt; &quot;Failed to execute child process&quot; &lt;&lt; std::endl;
        return 1;
    } else {
        // 父进程
        close(pipefd[0]);  // 关闭读端

        std::random_device rd;
        std::mt19937 gen(rd());
        std::uniform_int_distribution&lt;&gt; dis(0, 100);

        while (true) {
            int num = dis(gen);
            write(pipefd[1], &amp;num, sizeof(int));
            std::cout &lt;&lt; &quot;父进程生成数字: &quot; &lt;&lt; num &lt;&lt; std::endl;
            std::this_thread::sleep_for(std::chrono::seconds(1));
        }

        close(pipefd[1]);
        wait(nullptr);
    }

    return 0;

</code></pre>
<p>2.重映射的子线程：</p>
<pre><code>int main() {
    int num;

    while (read(STDIN_FILENO, &amp;num, sizeof(int)) &gt; 0) {
        std::cout &lt;&lt; &quot;子进程接收到数字: &quot; &lt;&lt; num &lt;&lt; std::endl;
        if (num &gt;= 95) {
            std::cout &lt;&lt; &quot;接收到大于等于95的数字，子进程退出&quot; &lt;&lt; std::endl;
            return 0;
        }
    }

    return 0;
}
</code></pre>
<h4 id="3">3.结果：</h4>
<p><img alt="test01" src="../../image/result03/test01.png" /></p>
<h3 id="2c">2.C++多线程求和程序</h3>
<h4 id="1_1">1. 知识点</h4>
<ul>
<li><code>std::vector&lt;std::thread&gt; threads</code>: 用于存储多个线程对象。</li>
<li><code>std::mutex</code>: 互斥锁，用于在多线程环境中保护共享资源。</li>
<li>使用多线程时候数组使用std::ref：传递的是应用，确保操作的是同一个对象，而不是复制体</li>
<li><code>std::lock_guard&lt;std::mutex&gt;</code>: RAII风格的互斥锁包装器，自动管理锁的获取和释放。</li>
<li>线程的创建和join: 通过<code>std::thread</code>创建线程，通过<code>join()</code>等待线程完成。</li>
<li>for (int i = 0; i &lt; num_threads; ++i) {<br />
    //设置起始位置，中止位置
    threads.emplace_back(sum_portion, std::ref(numbers), start, end, std::ref(result));<br />
}  疑问：都已经for循环将结果存入result中了，为什么还要join等待线程结束。<br />
搜索过后：这是我对多线程的一个误区，以为for循环i一遍里面的内容都执行完了。实际上循环一次代码开始执行了，但是计算线程还在计算并没有运行结束。  </li>
</ul>
<h4 id="2_1">2. 程序</h4>
<p>1.生成随机数组：</p>
<pre><code>void generate_numbers(std::vector&lt;int&gt;&amp; numbers, int count, int min_val, int max_val) {
    std::random_device rd;
    std::mt19937 gen(rd());
    std::uniform_int_distribution&lt;&gt; dis(min_val, max_val);
    for (int i = 0; i &lt; count; ++i) {
        numbers.push_back(dis(gen));
    }
}
</code></pre>
<ol>
<li>定义求和函数：</li>
</ol>
<pre><code class="language-cpp">

void sum_portion(const std::vector&lt;int&gt;&amp; numbers, size_t start, size_t end, long long&amp; result) {
    long long local_sum = 0;
    for (size_t i = start; i &lt; end; ++i) {
        local_sum += numbers[i];
    }
    std::lock_guard&lt;std::mutex&gt; lock(result_mutex);
    result += local_sum;
}

long long threaded_sum(const std::vector&lt;int&gt;&amp; numbers, int num_threads) {
    std::vector&lt;std::thread&gt; threads;
    long long result = 0;
    size_t chunk_size = numbers.size() / num_threads;

    for (int i = 0; i &lt; num_threads; ++i) {
        size_t start = i * chunk_size;
        size_t end = (i == num_threads - 1) ? numbers.size() : (i + 1) * chunk_size;
        threads.emplace_back(sum_portion, std::ref(numbers), start, end, std::ref(result));
    }

    for (auto&amp; thread : threads) {
        thread.join();
    }

    return result;
}

</code></pre>
<p>3.多线程计算数组大小（分块）：</p>
<pre><code>long long threaded_sum(const std::vector&lt;int&gt;&amp; numbers, int num_threads) {
    std::vector&lt;std::thread&gt; threads;
    long long result = 0;
    size_t chunk_size = numbers.size() / num_threads;

    for (int i = 0; i &lt; num_threads; ++i) {
        size_t start = i * chunk_size;
        size_t end = (i == num_threads - 1) ? numbers.size() : (i + 1) * chunk_size;
        threads.emplace_back(sum_portion, std::ref(numbers), start, end, std::ref(result));
    }

    for (auto&amp; thread : threads) {
        thread.join();
    }

    return result;
}
</code></pre>
<h4 id="3_1">3. 结果：</h4>
<p><img alt="test01" src="../../image/result03/test02.png" />
增大数组大小：<br />
<img alt="test01" src="../../image/result03/test03.png" /> 
就能发现数据量小的时候单线程比多线程要快，随着数据量增加，多线程的好处显著的出现了。</p>
<h3 id="_1">死锁问题程序：</h3>
<h4 id="1_2">1.按顺序轮流进餐</h4>
<h5 id="11">1.1实现思路：</h5>
<ol>
<li><strong>顺序控制</strong>：</li>
<li>使用一个共享的<code>current_philosopher</code>变量来跟踪当前应该进餐的哲学家。</li>
<li>
<p>利用<code>std::mutex</code>和<code>std::condition_variable</code>来实现精确的顺序控制。</p>
</li>
<li>
<p><strong>同步机制</strong>：</p>
</li>
<li>每个哲学家在尝试进餐前，先检查是否轮到自己（<code>current_philosopher == id</code>）。</li>
<li>
<p>如果不是自己的回合，则等待条件变量的通知。</p>
</li>
<li>
<p><strong>进餐过程</strong>：</p>
</li>
<li>当轮到某个哲学家时，他会拿起左右两边的叉子（通过锁定对应的互斥锁）。</li>
<li>进餐完成后，更新<code>current_philosopher</code>为下一个哲学家的ID，并通知所有等待的线程。</li>
</ol>
<h5 id="12">1.2结果：</h5>
<p><img alt="test01" src="../../image/result03/test04.png" /></p>
<h4 id="2_2">2.最短时间内完成所有哲学家的进餐</h4>
<h5 id="21">2.1方案：</h5>
<ol>
<li><strong>并发进餐</strong>：</li>
<li>所有哲学家同时开始尝试进餐，不强制特定顺序。</li>
<li>
<p>使用<code>std::thread</code>为每个哲学家创建一个独立的执行线程。</p>
</li>
<li>
<p><strong>资源获取</strong>：</p>
</li>
<li>使用<code>std::scoped_lock</code>同时锁定左右两把叉子，避免死锁。</li>
<li>
<p><code>std::scoped_lock</code>是C++17引入的RAII模板，可以同时锁定多个互斥量，并在析构时自动解锁。</p>
</li>
<li>
<p><strong>无序执行</strong>：</p>
</li>
<li>哲学家们互相竞争资源，谁先获得两把叉子谁就先进餐。</li>
<li>
<p>这种方法利用了操作系统的调度机制，自然地分配资源。</p>
</li>
<li>
<p><strong>防止饥饿</strong>：</p>
</li>
<li>
<p>虽然不保证特定顺序，但<code>std::mutex</code>的实现通常遵循先来先服务的原则，降低了特定哲学家长期饥饿的风险。</p>
</li>
<li>
<p><strong>效率考虑</strong>：</p>
</li>
<li>进餐时间使用<code>std::this_thread::sleep_for</code>模拟，可以根据实际需求调整。</li>
<li>
<p>没有额外的同步开销，每个哲学家只在必要时（获取叉子时）进行等待。</p>
</li>
<li>
<p><strong>资源管理</strong>：</p>
</li>
<li>使用<code>std::vector&lt;std::mutex&gt;</code>管理叉子，确保资源的动态分配和自动释放。</li>
<li>每个叉子作为一个独立的互斥量，允许最大程度的并发。</li>
</ol>
<h5 id="22">2.2结果</h5>
<p><img alt="test01" src="../../image/result03/test05.png" /> </p>
<h3 id="_2">课后作业：多进程生成，多线程计算：</h3>
<h4 id="1_3">1.算法设计：</h4>
<p>1.1生成矩阵：类似第一个课堂作业，不过第一次是用管道传输的数据，这里我选择使用共享内存将矩阵传给子进程，每个减1。</p>
<p>1.2矩阵相乘：利用了第二个课堂作业的思想，我先计算start行到end行的矩阵，后在ultiplyParallel调用多个线程分别调用这个函数来计算矩阵相乘的结果。  </p>
<p>使用hardware_concurrency()调用所有可用的进程来进行计算，但是数据量大才能增加计算速度。  </p>
<h4 id="2_3">2.代码：</h4>
<p>1.生成矩阵：</p>
<pre><code>Matrix generateMatrixA(int n) {
    Matrix A(n, vector&lt;int&gt;(n));
    for (int i = 0; i &lt; n; i++) {
        for (int j = 0; j &lt; n; j++) {
            A[i][j] = rand() % 10; // 生成0-9的随机数
        }
    }
    return A;
}

//主函数中调用父子进程生产A，B两个矩阵
// 父进程生成矩阵A
    Matrix A = generateMatrixA(n);

    cout &lt;&lt; &quot;父进程生成的矩阵A:&quot; &lt;&lt; endl;
    printMatrix(A);

    // 创建共享内存
    const char* shmName = &quot;/matrix_shm&quot;;
    int shmFd = shm_open(shmName, O_CREAT | O_RDWR, 0666);
    if (shmFd == -1) {
        perror(&quot;shm_open failed&quot;);
        exit(1);
    }

    // 设置共享内存大小
    if (ftruncate(shmFd, n * n * sizeof(int)) == -1) {
        perror(&quot;ftruncate failed&quot;);
        exit(1);
    }

    // 映射共享内存
    int* sharedData = (int*)mmap(nullptr, n * n * sizeof(int), PROT_READ | PROT_WRITE, MAP_SHARED, shmFd, 0);
    if (sharedData == MAP_FAILED) {
        perror(&quot;mmap failed&quot;);
        exit(1);
    }

    // 将矩阵A的数据复制到共享内存
    for (int i = 0; i &lt; n; i++) {
        for (int j = 0; j &lt; n; j++) {
            sharedData[i * n + j] = A[i][j];
        }
    }

    // 创建子进程
    pid_t pid = fork();

    if (pid == -1) {
        perror(&quot;fork failed&quot;);
        exit(1);
    } else if (pid == 0) {
        // 子进程
        Matrix B(n, vector&lt;int&gt;(n));

        // 从共享内存读取数据并生成矩阵B
        for (int i = 0; i &lt; n; i++) {
            for (int j = 0; j &lt; n; j++) {
                B[i][j] = sharedData[i * n + j] - 1;
            }
        }

        cout &lt;&lt; &quot;\n子进程生成的矩阵B (A的每个元素-1):&quot; &lt;&lt; endl;
        printMatrix(B);
</code></pre>
<p>2.计算矩阵：
* 计算部分矩阵：</p>
<pre><code>void multiplyPartial(const Matrix&amp; A, const Matrix&amp; B, Matrix&amp; C, int start, int end) {
    int n = A.size();
    for (int i = start; i &lt; end; i++) {
        for (int j = 0; j &lt; n; j++) {
            int sum = 0;
            for (int k = 0; k &lt; n; k++) {
                sum += A[i][k] * B[k][j];
            }
            lock_guard&lt;mutex&gt; lock(mtx);
            C[i][j] = sum;
        }
    }
}
</code></pre>
<ul>
<li>多线程计算：</li>
</ul>
<pre><code>Matrix multiplyParallel(const Matrix&amp; A, const Matrix&amp; B) {
    int n = A.size();
    Matrix C(n, vector&lt;int&gt;(n, 0));

    unsigned int numThreads = thread::hardware_concurrency();
    if (numThreads == 0) numThreads = 4;

    vector&lt;thread&gt; threads;

    int rowsPerThread = n / numThreads;
    int remainingRows = n % numThreads;

    int start = 0;
    for (unsigned int i = 0; i &lt; numThreads; i++) {
        int end = start + rowsPerThread + (i &lt; remainingRows ? 1 : 0);
        threads.emplace_back(multiplyPartial, ref(A), ref(B), ref(C), start, end);
        start = end;
    }

    for (auto&amp; t : threads) {
        t.join();
    }

    return C;
}
</code></pre>
<h4 id="3_2">3.运行结果：</h4>
<p><img alt="test01" src="../../image/result03/work01.png" />  </p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>